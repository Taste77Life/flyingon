<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>

    <script src="js/starwind.js"></script>

    <style type="text/css">
        .test {
            background-color: yellow;
        }
    </style>

</head>
<body>

    <div>
        <input type="button" onclick="domTest()" value="domtest" />
        <input type="button" onclick="canvasTest()" value="canvastest" />
        <input type="button" onclick="drawCanvas()" value="drawCanvas" />
    </div>

    <canvas id="canvas1" width="1200" height="600" style="width:1200px;height:600px;background-color:silver" />

    <div id="host" style="width: 100%; height: 100%; position: relative; background-color: silver">
    </div>

    <script type="text/javascript">


        var $ = flyingon;


        function canvasTest() {

            host.innerHTML = "";

            var date = new Date();

            var form = new $.Canvas();
            host.appendChild(form.host);

            for (var i = 0; i < 100; i++) {

                for (var j = 0; j < 100; j++) {
                    var btn = new $.Button();
                    btn.left = i * 100;
                    btn.top = j * 30;
                    btn.width = 70;
                    btn.height = 21;
                    btn.onclick = function (e) {
                        alert(this.id());
                    };
                    btn.onmouseover = function (e) { document.title = this.text + " " + this.top + " Over" };
                    btn.onmouseout = function (e) { document.title = this.left + " " + this.top + " Out" };
                    form.children.append(btn);
                }

            }

            form.update();

            alert(new Date() - date);
        };

  
        function domTest() {
            host.innerHTML = "";

            var date = new Date();

            for (var i = 0; i < 100; i++) {

                for (var j = 0; j < 100; j++) {
                    var btn = document.createElement("input");
                    btn.type = "button";
                    btn.value = "button";
                    btn.left = i * 100 + 5;
                    btn.top = j * 30 + 5;
                    btn.width = 70;
                    btn.height = 21;
                    btn.className = "test";

                    host.appendChild(btn);
                }
            }

            alert(new Date() - date);
        }


        function drawCanvas() {
            var g = this.canvas1.getContext("2d");
            g.fillStyle = "#000000";

            var d = new Date();

            //for (var i = 0; i < 10000; i++) {
            //    g.fillRect(100, 100, 200, 200);

            //    g.save();
            //    g.translate(100, 100);

            //    g.fillStyle = "#FFFFFF";
            //    g.fillRect(10, 10, 20, 20);

            //    g.restore();
            //    g.fillRect(0, 0, 100, 100);
            //}


            for (var i = 0; i < 100; i++) {
                for (var j = 0; j < 100; j++) {
                    g.fillRect(i * 12, j * 12, 10, 10);
                }
            }
  
            alert(new Date() - d);
        };


    </script>

</body>
</html>
